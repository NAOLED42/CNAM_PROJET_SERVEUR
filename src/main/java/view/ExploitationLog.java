package view;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Container;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.FontMetrics;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GridLayout;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.border.Border;
import javax.swing.border.EmptyBorder;
import javax.swing.border.EtchedBorder;
import javax.swing.border.TitledBorder;

public class ExploitationLog extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;

	public ExploitationLog() {
		super("T'Chat IRC (v0.1 alpha) - Exploitation des logs");
		//Creation of the window
		JFrame content = new JFrame();
		content.setPreferredSize(new Dimension(800, 600));
		content.setLayout(new GridLayout(4, 1));
		//Adding all panels to the main pane.
		content.add(getSearchbar());
		content.add(getButton());
		content.add(getComboBox());
		content.add(getInformation());
		content.getContentPane().setBackground(new Color(139, 149, 248));

		content.pack();
		content.setVisible(true);
	}

	// Function that returns the first pannel for label and searchbar
	private JPanel getSearchbar() {

		final JPanel panelSearchBar = new JPanel();
		final JPanel panelMessage = new JPanel();
		final JPanel content = new JPanel();
		final JLabel titleText = new JLabel("Consultation des messages postÃ©s");
		final JTextField searchTextArea = new JTextField();
		final JLabel labelSearch = new JLabel("Search");
		
		panelSearchBar.setLayout(new GridLayout(0,2));
		panelMessage.setLayout(new GridLayout(0,1));
		
		panelSearchBar.setBorder(BorderFactory.createEmptyBorder(50,0,50,150));
		searchTextArea.setColumns(10);
		
		panelSearchBar.add(labelSearch);
		panelMessage.add(titleText);
		panelSearchBar.add(searchTextArea);
		
		content.setLayout(new BorderLayout());
		content.setBorder(new EmptyBorder(0,50,0,50));
		content.add(panelMessage, BorderLayout.WEST);
		content.add(panelSearchBar, BorderLayout.EAST);

		return content;
	}

	//Function that returns the buttons 
	private JPanel getButton() {
		final JPanel panelButton = new JPanel();
		final JButton userButton = new JButton("Utilisateurs");
		final JButton canalButton = new JButton("Canaux");
		
		panelButton.setLayout(new FlowLayout());

		userButton.setPreferredSize(new Dimension(300, 30));
		canalButton.setPreferredSize(new Dimension(300, 30));

		panelButton.add(userButton);
		panelButton.add(canalButton);

		return panelButton;

	}

	private JPanel getComboBox() {
		final JPanel panelComboBoxCanal = new JPanel();
		final JPanel panelComboBoxUser = new JPanel();
		final JPanel content = new JPanel();
		
		panelComboBoxCanal.setLayout(new GridLayout(0,1));
		panelComboBoxUser.setLayout(new GridLayout(0,1));

		Object[] users = new Object[] { "John Doe", "Foo Bar", "Richard Stallman" };
		Object[] canal = new Object[] { "Salon Principal", "CSGO", "Cours CNAM" };

		final JComboBox listUser = new JComboBox(users);
		final JComboBox listCanal = new JComboBox(canal);

		panelComboBoxUser.add(listUser);
		panelComboBoxCanal.add(listCanal);
		
		content.setLayout(new BorderLayout());
		
		
		content.add(panelComboBoxCanal, BorderLayout.WEST);
		content.add(panelComboBoxUser, BorderLayout.EAST);
		content.setBorder(new EmptyBorder(50,220,50,220));

		return content;

	}

	private JPanel getInformation() {
		final JPanel informationPanel = new JPanel();
		final JPanel content = new JPanel();
		final JTextArea informationTextArea = new JTextArea(">> Informations bientot disponibles...");
		
		informationPanel.setLayout(new BorderLayout());

		informationTextArea.setEditable(false);
		informationTextArea.setBorder(new TitledBorder(new EtchedBorder(), "Derniers messages"));

		informationPanel.add(informationTextArea, BorderLayout.CENTER);
		informationPanel.setBorder(new EmptyBorder(20, 20, 20, 20));
		content.setLayout(new BorderLayout());
		content.add(informationPanel);
		
		return content;

	}
	
	@Override
	public void actionPerformed(ActionEvent e) {
		String action = e.getActionCommand();
		
	}
}
